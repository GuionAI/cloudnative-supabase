# Example Supabase Helm values secret template
# This secret contains sensitive configuration for Supabase services
#
# Usage:
# 1. Copy this file to supabase-helm-values.yaml
# 2. Replace all REPLACE_* placeholders with real values
# 3. Encrypt with SOPS before committing
#
# Generate secrets:
#   JWT_SECRET: openssl rand -base64 32
#   ANON_KEY: Generate using https://supabase.com/docs/guides/self-hosting#api-keys
#   SERVICE_KEY: Generate using https://supabase.com/docs/guides/self-hosting#api-keys
---
apiVersion: v1
kind: Secret
metadata:
  name: supabase-helm-values
  namespace: NAMESPACE_PLACEHOLDER
type: Opaque
stringData:
  values.yaml: |
    # JWT Configuration
    secret:
      jwt:
        anonKey: "REPLACE_WITH_ANON_KEY"
        serviceKey: "REPLACE_WITH_SERVICE_KEY"
        secret: "REPLACE_WITH_JWT_SECRET"

    # Auth service configuration
    auth:
      environment:
        GOTRUE_JWT_SECRET: "REPLACE_WITH_JWT_SECRET"
        # Optional: Configure OAuth providers
        # GOTRUE_EXTERNAL_GITHUB_ENABLED: "true"
        # GOTRUE_EXTERNAL_GITHUB_CLIENT_ID: "your-client-id"
        # GOTRUE_EXTERNAL_GITHUB_SECRET: "your-client-secret"

    # Storage service configuration
    storage:
      environment:
        # S3-compatible storage backend (optional)
        # STORAGE_BACKEND: "s3"
        # STORAGE_S3_BUCKET: "your-bucket"
        # STORAGE_S3_ENDPOINT: "https://s3.amazonaws.com"
        # STORAGE_S3_REGION: "us-east-1"

    # Studio configuration
    studio:
      environment:
        SUPABASE_ANON_KEY: "REPLACE_WITH_ANON_KEY"
        SUPABASE_SERVICE_KEY: "REPLACE_WITH_SERVICE_KEY"
